# ZAI MCP 服务器

一个基于 Z.AI 提供 AI 能力的模型上下文协议 (MCP) 服务器。

## MCP 工具

该服务器实现了模型上下文协议，可与任何兼容 MCP 的客户端一起使用。服务器提供以下工具：

- `image_analysis` - 分析图像并提供详细描述

## 环境变量

- `Z_AI_MODE` - 用于 AI 服务的平台（默认：`ZHIPU`）ZHIPU 或 ZAI
- `Z_AI_API_KEY` - 您的 API 密钥

对于 `Z_AI_MODE=ZHIPU`：使用智谱 AI 平台 https://bigmodel.cn ，API 基础 URL 为 `https://open.bigmodel.cn/api/paas/v4/`   
对于 `Z_AI_MODE=ZAI`：使用 ZAI 平台 https://z.ai/model-api ，API 基础 URL 为 `https://api.z.ai/api/paas/v4/`


## 安装

### 从 npm 安装

```bash
npm i @z_ai/mcp-server
```

## 使用方法

### 在 Claude Code 中使用此 MCP 服务器

```shell
claude mcp add zai-mcp-server --env Z_AI_API_KEY=your_api_key  -- npx -y @z_ai/mcp-server
```

### 在其他客户端中使用此 MCP 服务器

```json
{
  "mcpServers": {
    "zai-mcp-server": {
      "type": "stdio",
      "command": "npx",
      "args": [
        "-y",
        "@z_ai/mcp-server"
      ],
      "env": {
        "Z_AI_API_KEY": "your_api_key",
        "Z_AI_MODE": "ZHIPU"
      }
    }
  }
}
```

### 使用 MCP Inspector 运行

```
pnpm build

node ./build/index.js

npx @modelcontextprotocol/inspector node ./build/index.js

```
